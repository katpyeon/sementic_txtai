# 📚 도서 리뷰 감성 분석 자동화

도서 코드를 기반으로 리뷰 데이터를 수집하고, 감정 분석 리포트를 자동 생성하는 프로젝트입니다.  
Cursor 에디터와 프롬프트 기반 워크플로우를 활용하여 분석 전 과정을 자동화합니다.

---

## 🛠 사용법

### 사전 준비
- Docker가 설치되어 있어야 합니다. [Docker 설치 가이드](https://docs.docker.com/get-docker/)
- Docker 데몬이 실행 중이어야 합니다.
- 컨테이너 실행을 위한 충분한 시스템 리소스가 필요합니다.

### 실행 방법
1. Cursor 에디터로 본 프로젝트를 오픈합니다.
2. `prompt/report.md` 파일의 상단에 아래 항목을 입력합니다:
   - 도서명: `"무기력의 심리학"`
   - 도서코드: `S000212321676`
3. 하단에 다음 명령을 입력합니다:

@report.md 실행해줘

4. 다음 작업이 순차적으로 자동 수행됩니다:
- 리뷰 데이터 수집
- 감정 분석 수행
- HTML 리포트 생성

> 참고: 모든 작업은 Docker 컨테이너 내에서 실행되므로 로컬 환경에 Python이나 기타 의존성을 설치할 필요가 없습니다.

---

## ⚙️ 작업 흐름 및 생성 과정

### 1. 리뷰 수집

- `scraper_kyobo.py`를 통해 교보문고의 리뷰 데이터를 도서코드로 수집합니다.
- 수집된 데이터는 `data/` 디렉토리에 CSV 형식으로 저장됩니다.

### 2. 감정 분석 및 리포트 생성

- `sentiment_analysis_txtai.py`는 txtai의 텍스트 임베딩을 활용해 감정 분석을 수행합니다.
- 분석 결과는 Chart.js 기반의 HTML 리포트로 `output/` 디렉토리에 저장됩니다.
- 이 분석 코드는 최신 [txtai 문서](https://github.com/neuml/txtai) 기반으로 **프롬프트로 생성되었으며**, Cursor에서 실행하며 개선해 왔습니다.

### 3. Docker 환경 구성

- `Dockerfile`, `docker-compose.yml`은 모두 ChatGPT 프롬프트를 통해 자동 생성되었습니다.
- 이후 Cursor에서 반복 실행 및 디버깅을 통해:
- Python 3.12 slim 이미지 적용
- 로컬 디렉토리 마운트
- 실행 커맨드 정리 등을 개선했습니다.

### 4. 프롬프트 기반 자동화

- 전체 워크플로우는 `prompt/report.md`에서 자연어 명령 한 줄로 실행됩니다.
- 프롬프트는 기능별로 나누어 관리됩니다:
- 분석 코드 생성
- 도커 설정
- 분석 실행 자동화

---

## 📁 디렉토리 구조
| 경로 | 설명 |
|------|------|
| `data/` | 리뷰 데이터가 저장되는 디렉토리 |
| `output/` | 감정 분석 결과 리포트가 저장되는 디렉토리 |
| `prompt/` | 프롬프트 파일들이 위치한 디렉토리 |
| ├─ `sentiment_analysis.md` | 분석 및 리포트 생성 프롬프트 |
| ├─ `docker.md` | Docker 설정 프롬프트 |
| └─ `report.md` | 도서 리뷰 자동 실행 프롬프트 |
| `scraper_kyobo.py` | 교보문고 도서 리뷰 수집 코드 |
| `sentiment_analysis_txtai.py` | 감정 분석 및 리포트 생성 코드 *(프롬프트 기반 생성)* |
| `requirements.txt` | 필요한 파이썬 라이브러리 목록 |
| `Dockerfile` | Python 3.12 기반 Docker 환경 설정 *(프롬프트 기반 생성)* |
| `docker-compose.yml` | Docker 서비스 정의 파일 *(프롬프트 기반 생성)* |